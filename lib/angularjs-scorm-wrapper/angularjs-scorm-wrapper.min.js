/*! angularjs-scorm-wrapper 26-05-2016 */
var scormwrapper=angular.module("scormwrapper",[]);scormwrapper.service("scormWrapper",function(){"use strict";var a="Auto",b=!1,c=["Auto","1.2","2004"];this.setAPIVersion=function(b){b=b||"Auto";var d=c.indexOf(b.toString());return d>-1?a=c[d]:console.log("Not found, default to Auto"),a},this.getAPIVersion=function(){return a},this.isAvailable=function(){return!0},this.doLMSInitialize=function(){return this.cmiBooleanToJs(this.getAPICall("LMSInitialize","Initialize")(""))},this.doLMSFinish=function(){return this.cmiBooleanToJs(this.getAPICall("LMSFinish","Terminate")(""))},this.doLMSGetValue=function(a){return this.getAPICall("LMSGetValue","GetValue")(a)},this.doLMSSetValue=function(a,b){return this.cmiBooleanToJs(this.getAPICall("LMSSetValue","SetValue")(a,b))},this.doLMSCommit=function(){return this.cmiBooleanToJs(this.getAPICall("LMSCommit","Commit")(""))},this.doLMSGetLastError=function(){return this.getAPICall("LMSGetLastError","GetLastError")()},this.doLMSGetErrorString=function(a){return this.getAPICall("LMSGetErrorString","GetErrorString")(a.toString())},this.doLMSGetDiagnostic=function(a){return this.getAPICall("LMSGetDiagnostic","GetDiagnostic")(a.toString())},this.LMSIsInitialized=function(){return b},this.ErrorHandler=function(){return this.getAPICall("LMSGetLastError","GetLastError")()},this.cmiBooleanToJs=function(a){return"1"===a||1===a||"true"===a||a===!0},this.getAPIHandle=function(){var a=window;a.parent&&a.parent!=a&&this.findAPI(a.parent),!b&&a.top.opener?this.findAPI(a.top.opener):b||console.log("Unable to find API adapter")},this.findAPI=function(c){var d=0,e=500;for(d;e>d;d++){if(c.API&&("1.2"===a||"Auto"===a)){b=c.API,a="1.2";break}if(c.API_1484_11&&("2004"===a||"Auto"===a)){b=c.API_1484_11,a="2004";break}c.parent&&c.parent!=c&&(d++,c=c.parent)}},this.getAPICall=function(c,d){if(!b&&(this.getAPIHandle(),!b))return function(){console.log("No API found, can't execute: "+c+" or "+d)};switch(a){case"2004":return function(){return b[d].apply(b,arguments)};case"1.2":return function(){return b[c].apply(b,arguments)}}}});